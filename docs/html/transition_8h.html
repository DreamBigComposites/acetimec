<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AceTimeC: /home/brian/src/AceTimeC/src/ace_time_c/transition.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AceTimeC
   &#160;<span id="projectnumber">0.6.0</span>
   </div>
   <div id="projectbrief">Date and time library in C that supports timezones from the TZ Database.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_37195fcf9b2d5b9f7b98f9af0a10ed75.html">ace_time_c</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">transition.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Data structures and functions related to calculating DST transitions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="common_8h_source.html">common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="zone__info_8h_source.html">zone_info.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="local__date__time_8h_source.html">local_date_time.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for transition.h:</div>
<div class="dyncontent">
<div class="center"><img src="transition_8h__incl.png" border="0" usemap="#a_2home_2brian_2src_2AceTimeC_2src_2ace__time__c_2transition_8h" alt=""/></div>
<map name="a_2home_2brian_2src_2AceTimeC_2src_2ace__time__c_2transition_8h" id="a_2home_2brian_2src_2AceTimeC_2src_2ace__time__c_2transition_8h">
<area shape="rect" title="Data structures and functions related to calculating DST transitions." alt="" coords="57,5,259,47"/>
<area shape="rect" title=" " alt="" coords="64,244,135,271"/>
<area shape="rect" href="common_8h.html" title="Some common shared typedefs, constants, and functions." alt="" coords="181,169,271,196"/>
<area shape="rect" href="zone__info_8h.html" title="The data structures in the zone database, with the AtcZoneInfo representing a specific time zone." alt="" coords="296,169,393,196"/>
<area shape="rect" href="local__date__time_8h.html" title="Functions that relate to the local date time, without any reference to the time zone." alt="" coords="35,95,174,121"/>
<area shape="rect" title=" " alt="" coords="189,244,263,271"/>
<area shape="rect" href="string__buffer_8h.html" title="A simple set of integer to string conversion functions." alt="" coords="42,169,157,196"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="transition_8h__dep__incl.png" border="0" usemap="#a_2home_2brian_2src_2AceTimeC_2src_2ace__time__c_2transition_8hdep" alt=""/></div>
<map name="a_2home_2brian_2src_2AceTimeC_2src_2ace__time__c_2transition_8hdep" id="a_2home_2brian_2src_2AceTimeC_2src_2ace__time__c_2transition_8hdep">
<area shape="rect" title="Data structures and functions related to calculating DST transitions." alt="" coords="271,5,473,47"/>
<area shape="rect" href="transition_8c_source.html" title=" " alt="" coords="5,95,205,136"/>
<area shape="rect" href="zone__processor_8h.html" title="Data structures and functions related to determining the UTC and DST offsets using the list of DST tr..." alt="" coords="505,95,743,136"/>
<area shape="rect" href="acetimec_8h_source.html" title=" " alt="" coords="503,363,697,404"/>
<area shape="rect" href="zoned__extra_8h.html" title="Additional information about a time zone such as the STD offset, the DST offset, and the abbreviation..." alt="" coords="963,273,1181,315"/>
<area shape="rect" href="time__zone_8c_source.html" title=" " alt="" coords="351,273,558,315"/>
<area shape="rect" href="time__zone_8h.html" title="A class representing a specific IANA time zone, containing a pointer to a ZoneInfo data containing th..." alt="" coords="645,184,851,225"/>
<area shape="rect" href="zoned__date__time_8h.html" title="Functions that relate to the date time with a reference to a specific time zone." alt="" coords="637,273,888,315"/>
<area shape="rect" href="zoned__date__time_8c_source.html" title=" " alt="" coords="760,363,1011,404"/>
<area shape="rect" href="zoned__extra_8c_source.html" title=" " alt="" coords="1072,363,1291,404"/>
<area shape="rect" href="zone__processor_8c_source.html" title=" " alt="" coords="382,184,621,225"/>
</map>
</div>
</div>
<p><a href="transition_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAtcDateTuple.html">AtcDateTuple</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An internal simplified version of the AtcDateTime class that uses the (year, month, day, minutes, suffix) fields.  <a href="structAtcDateTuple.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAtcMatchingEra.html">AtcMatchingEra</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A struct that represents a matching ZoneEra.  <a href="structAtcMatchingEra.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAtcTransition.html">AtcTransition</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A transition from one DST rule to another, and the time period which that rule is valid for.  <a href="structAtcTransition.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of transitions for a given time zone.  <a href="structAtcTransitionStorage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAtcTransitionForSeconds.html">AtcTransitionForSeconds</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The result returned by <a class="el" href="transition_8h.html#ae261eb432272a18429b0d9c7509f1557" title="Find the Transition matching the given epochSeconds.">atc_transition_storage_find_for_seconds()</a> when searching for Transition by epoch seconds.  <a href="structAtcTransitionForSeconds.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAtcTransitionForDateTime.html">AtcTransitionForDateTime</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The result returned by <a class="el" href="transition_8h.html#a07adb7f18cfc28fec459ecde9fdaec50" title="Return the candidate Transitions matching the given dateTime.">atc_transition_storage_find_for_date_time()</a> when searching for transitions by local date time.  <a href="structAtcTransitionForDateTime.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a956b7acc9da9cb228b540ccbd9267f5c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a956b7acc9da9cb228b540ccbd9267f5c">AtcDateTuple</a></td></tr>
<tr class="memdesc:a956b7acc9da9cb228b540ccbd9267f5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">An internal simplified version of the AtcDateTime class that uses the (year, month, day, minutes, suffix) fields.  <a href="transition_8h.html#a956b7acc9da9cb228b540ccbd9267f5c">More...</a><br /></td></tr>
<tr class="separator:a956b7acc9da9cb228b540ccbd9267f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e33133a13a970ef03bd58d713e67069"><td class="memItemLeft" align="right" valign="top"><a id="a1e33133a13a970ef03bd58d713e67069"></a>
typedef struct <a class="el" href="structAtcMatchingEra.html">AtcMatchingEra</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a1e33133a13a970ef03bd58d713e67069">AtcMatchingEra</a></td></tr>
<tr class="memdesc:a1e33133a13a970ef03bd58d713e67069"><td class="mdescLeft">&#160;</td><td class="mdescRight">A struct that represents a matching ZoneEra. <br /></td></tr>
<tr class="separator:a1e33133a13a970ef03bd58d713e67069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a2b87c5eff43812cf841bb7f9246e14"><td class="memItemLeft" align="right" valign="top"><a id="a5a2b87c5eff43812cf841bb7f9246e14"></a>
typedef struct <a class="el" href="structAtcTransition.html">AtcTransition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a5a2b87c5eff43812cf841bb7f9246e14">AtcTransition</a></td></tr>
<tr class="memdesc:a5a2b87c5eff43812cf841bb7f9246e14"><td class="mdescLeft">&#160;</td><td class="mdescRight">A transition from one DST rule to another, and the time period which that rule is valid for. <br /></td></tr>
<tr class="separator:a5a2b87c5eff43812cf841bb7f9246e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0c2bda75e04888fd7e7ecf791553936"><td class="memItemLeft" align="right" valign="top"><a id="aa0c2bda75e04888fd7e7ecf791553936"></a>
typedef struct <a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#aa0c2bda75e04888fd7e7ecf791553936">AtcTransitionStorage</a></td></tr>
<tr class="memdesc:aa0c2bda75e04888fd7e7ecf791553936"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of transitions for a given time zone. <br /></td></tr>
<tr class="separator:aa0c2bda75e04888fd7e7ecf791553936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad470c4c7db14230392db6f412e7584d3"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structAtcTransitionForSeconds.html">AtcTransitionForSeconds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#ad470c4c7db14230392db6f412e7584d3">AtcTransitionForSeconds</a></td></tr>
<tr class="memdesc:ad470c4c7db14230392db6f412e7584d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The result returned by <a class="el" href="transition_8h.html#ae261eb432272a18429b0d9c7509f1557" title="Find the Transition matching the given epochSeconds.">atc_transition_storage_find_for_seconds()</a> when searching for Transition by epoch seconds.  <a href="transition_8h.html#ad470c4c7db14230392db6f412e7584d3">More...</a><br /></td></tr>
<tr class="separator:ad470c4c7db14230392db6f412e7584d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b59554b257ebb9cd68a658c57a16f71"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structAtcTransitionForDateTime.html">AtcTransitionForDateTime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a0b59554b257ebb9cd68a658c57a16f71">AtcTransitionForDateTime</a></td></tr>
<tr class="memdesc:a0b59554b257ebb9cd68a658c57a16f71"><td class="mdescLeft">&#160;</td><td class="mdescRight">The result returned by <a class="el" href="transition_8h.html#a07adb7f18cfc28fec459ecde9fdaec50" title="Return the candidate Transitions matching the given dateTime.">atc_transition_storage_find_for_date_time()</a> when searching for transitions by local date time.  <a href="transition_8h.html#a0b59554b257ebb9cd68a658c57a16f71">More...</a><br /></td></tr>
<tr class="separator:a0b59554b257ebb9cd68a658c57a16f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:adc29c2ff13d900c2f185ee95427fb06c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="transition_8h.html#adc29c2ff13d900c2f185ee95427fb06ca9262981dc217adabd9b160f3b8e29c80">kAtcAbbrevSize</a> = 7
, <a class="el" href="transition_8h.html#adc29c2ff13d900c2f185ee95427fb06ca8bf03ded4b77c7045e9204ab53b55916">kAtcTransitionStorageSize</a> = 8
, <a class="el" href="transition_8h.html#adc29c2ff13d900c2f185ee95427fb06cac0a3a12b114e8fbfc75a9c34e31f55da">kAtcMaxMatches</a> = 4
, <a class="el" href="transition_8h.html#adc29c2ff13d900c2f185ee95427fb06caec20c31a8bd02a6af88b3ccc2318c14d">kAtcMaxInteriorYears</a> = 4
 }</td></tr>
<tr class="separator:adc29c2ff13d900c2f185ee95427fb06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61dadd085c1777f559549e05962b2c9e"><td class="memItemLeft" align="right" valign="top"><a id="a61dadd085c1777f559549e05962b2c9e"></a>enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<b>kAtcMatchStatusFarPast</b>
, <b>kAtcMatchStatusPrior</b>
, <b>kAtcMatchStatusExactMatch</b>
, <b>kAtcMatchStatusWithinMatch</b>
, <br />
&#160;&#160;<b>kAtcMatchStatusFarFuture</b>
<br />
 }</td></tr>
<tr class="memdesc:a61dadd085c1777f559549e05962b2c9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The result of comparing transition of a Transition to the time interval of the corresponding <a class="el" href="structAtcMatchingEra.html" title="A struct that represents a matching ZoneEra.">AtcMatchingEra</a>. <br /></td></tr>
<tr class="separator:a61dadd085c1777f559549e05962b2c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a865ab5def8a56a4cf9e5aa383e3585af"><td class="memItemLeft" align="right" valign="top"><a id="a865ab5def8a56a4cf9e5aa383e3585af"></a>
int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a865ab5def8a56a4cf9e5aa383e3585af">atc_date_tuple_compare</a> (const <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *a, const <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *b)</td></tr>
<tr class="memdesc:a865ab5def8a56a4cf9e5aa383e3585af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare a to b, ignoring the suffix. <br /></td></tr>
<tr class="separator:a865ab5def8a56a4cf9e5aa383e3585af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9412503b3e1a276ee8d3fdf3793bdf83"><td class="memItemLeft" align="right" valign="top"><a id="a9412503b3e1a276ee8d3fdf3793bdf83"></a>
<a class="el" href="common_8h.html#acbc70d84c280bc21542b1292be411847">atc_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a9412503b3e1a276ee8d3fdf3793bdf83">atc_date_tuple_subtract</a> (const <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *a, const <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *b)</td></tr>
<tr class="memdesc:a9412503b3e1a276ee8d3fdf3793bdf83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return (a - b) in number of seconds, ignoring the suffix. <br /></td></tr>
<tr class="separator:a9412503b3e1a276ee8d3fdf3793bdf83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b01b091e85941c08645072ad4403b98"><td class="memItemLeft" align="right" valign="top"><a id="a1b01b091e85941c08645072ad4403b98"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a1b01b091e85941c08645072ad4403b98">atc_date_tuple_normalize</a> (<a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *dt)</td></tr>
<tr class="memdesc:a1b01b091e85941c08645072ad4403b98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalize <a class="el" href="structAtcDateTuple.html#a7d2e575b077a324d6fa8716ffde4a073" title="negative values allowed">AtcDateTuple::minutes</a> if its magnitude is more than 24 hours. <br /></td></tr>
<tr class="separator:a1b01b091e85941c08645072ad4403b98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5724f1c80807a5bb2013789c0ee7e32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#af5724f1c80807a5bb2013789c0ee7e32">atc_date_tuple_expand</a> (const <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *tt, int16_t offset_minutes, int16_t delta_minutes, <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *ttw, <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *tts, <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *ttu)</td></tr>
<tr class="memdesc:af5724f1c80807a5bb2013789c0ee7e32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the given 'tt', offsetMinutes, and deltaMinutes into the 'w', 's' and 'u' versions of the <a class="el" href="structAtcDateTuple.html" title="An internal simplified version of the AtcDateTime class that uses the (year, month,...">AtcDateTuple</a>.  <a href="transition_8h.html#af5724f1c80807a5bb2013789c0ee7e32">More...</a><br /></td></tr>
<tr class="separator:af5724f1c80807a5bb2013789c0ee7e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc3cfaa7731d3ca6b94c2eba538907c8"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#acc3cfaa7731d3ca6b94c2eba538907c8">atc_date_tuple_compare_fuzzy</a> (const <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *t, const <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *start, const <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *until)</td></tr>
<tr class="memdesc:acc3cfaa7731d3ca6b94c2eba538907c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare the given 't' with the interval defined by [start, until).  <a href="transition_8h.html#acc3cfaa7731d3ca6b94c2eba538907c8">More...</a><br /></td></tr>
<tr class="separator:acc3cfaa7731d3ca6b94c2eba538907c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf7682411f98afe4a5e68ab9ad0d0a23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#abf7682411f98afe4a5e68ab9ad0d0a23">atc_transition_storage_init</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:abf7682411f98afe4a5e68ab9ad0d0a23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the Transition Storage.  <a href="transition_8h.html#abf7682411f98afe4a5e68ab9ad0d0a23">More...</a><br /></td></tr>
<tr class="separator:abf7682411f98afe4a5e68ab9ad0d0a23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ad8839180f159174286cdfbf318e0d"><td class="memItemLeft" align="right" valign="top"><a id="ac4ad8839180f159174286cdfbf318e0d"></a>
<a class="el" href="structAtcTransition.html">AtcTransition</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#ac4ad8839180f159174286cdfbf318e0d">atc_transition_storage_get_candidate_pool_begin</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:ac4ad8839180f159174286cdfbf318e0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the begin iterator of the 'candidate' transitions. <br /></td></tr>
<tr class="separator:ac4ad8839180f159174286cdfbf318e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a467bd7c7494b8cba924535828e6d9"><td class="memItemLeft" align="right" valign="top"><a id="a38a467bd7c7494b8cba924535828e6d9"></a>
<a class="el" href="structAtcTransition.html">AtcTransition</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a38a467bd7c7494b8cba924535828e6d9">atc_transition_storage_get_candidate_pool_end</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:a38a467bd7c7494b8cba924535828e6d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the end iterator of the 'candidate' transitions. <br /></td></tr>
<tr class="separator:a38a467bd7c7494b8cba924535828e6d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a626e7a43e526bd056eadf737c6d588a6"><td class="memItemLeft" align="right" valign="top"><a id="a626e7a43e526bd056eadf737c6d588a6"></a>
<a class="el" href="structAtcTransition.html">AtcTransition</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a626e7a43e526bd056eadf737c6d588a6">atc_transition_storage_get_active_pool_begin</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:a626e7a43e526bd056eadf737c6d588a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the begin iterator of the 'active' transitions. <br /></td></tr>
<tr class="separator:a626e7a43e526bd056eadf737c6d588a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae646996b3bcaa2a69058db3e3751365d"><td class="memItemLeft" align="right" valign="top"><a id="ae646996b3bcaa2a69058db3e3751365d"></a>
<a class="el" href="structAtcTransition.html">AtcTransition</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#ae646996b3bcaa2a69058db3e3751365d">atc_transition_storage_get_active_pool_end</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:ae646996b3bcaa2a69058db3e3751365d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the end iterator of the 'active' transitions. <br /></td></tr>
<tr class="separator:ae646996b3bcaa2a69058db3e3751365d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9847e6784d5d7a9da578b50976f8a09f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAtcTransition.html">AtcTransition</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a9847e6784d5d7a9da578b50976f8a09f">atc_transition_storage_get_free_agent</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:a9847e6784d5d7a9da578b50976f8a09f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a pointer to the first Transition in the free pool.  <a href="transition_8h.html#a9847e6784d5d7a9da578b50976f8a09f">More...</a><br /></td></tr>
<tr class="separator:a9847e6784d5d7a9da578b50976f8a09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9b49d8fe0c1c4f33a95f70d80349bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a1b9b49d8fe0c1c4f33a95f70d80349bf">atc_transition_storage_add_free_agent_to_active_pool</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:a1b9b49d8fe0c1c4f33a95f70d80349bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Immediately add the free agent Transition at index mIndexFree to the Active pool.  <a href="transition_8h.html#a1b9b49d8fe0c1c4f33a95f70d80349bf">More...</a><br /></td></tr>
<tr class="separator:a1b9b49d8fe0c1c4f33a95f70d80349bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae457be698928b6a15547171a134273a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#ae457be698928b6a15547171a134273a9">atc_transition_storage_reset_candidate_pool</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:ae457be698928b6a15547171a134273a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty the Candidate pool by resetting the various indexes.  <a href="transition_8h.html#ae457be698928b6a15547171a134273a9">More...</a><br /></td></tr>
<tr class="separator:ae457be698928b6a15547171a134273a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6381f6ec7305e9d18bd96a09762b3f5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAtcTransition.html">AtcTransition</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a6381f6ec7305e9d18bd96a09762b3f5e">atc_transition_storage_reserve_prior</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:a6381f6ec7305e9d18bd96a09762b3f5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a free Transition then add it to the Prior pool.  <a href="transition_8h.html#a6381f6ec7305e9d18bd96a09762b3f5e">More...</a><br /></td></tr>
<tr class="separator:a6381f6ec7305e9d18bd96a09762b3f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3774924480ce623164ea45a90fd3e8fd"><td class="memItemLeft" align="right" valign="top"><a id="a3774924480ce623164ea45a90fd3e8fd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a3774924480ce623164ea45a90fd3e8fd">atc_transition_storage_set_free_agent_as_prior_if_valid</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:a3774924480ce623164ea45a90fd3e8fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the free agent transition as the most recent prior. <br /></td></tr>
<tr class="separator:a3774924480ce623164ea45a90fd3e8fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a22faa720635036e397bd4ec001923d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a0a22faa720635036e397bd4ec001923d">atc_transition_storage_add_free_agent_to_candidate_pool</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:a0a22faa720635036e397bd4ec001923d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the free agent Transition at index mIndexFree to the Candidate pool, sorted by transitionTime.  <a href="transition_8h.html#a0a22faa720635036e397bd4ec001923d">More...</a><br /></td></tr>
<tr class="separator:a0a22faa720635036e397bd4ec001923d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66e4a2d8938cf48b08ef1e1577dcab1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#af66e4a2d8938cf48b08ef1e1577dcab1">atc_transition_storage_add_prior_to_candidate_pool</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:af66e4a2d8938cf48b08ef1e1577dcab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the current prior into the Candidates pool.  <a href="transition_8h.html#af66e4a2d8938cf48b08ef1e1577dcab1">More...</a><br /></td></tr>
<tr class="separator:af66e4a2d8938cf48b08ef1e1577dcab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8649120d89666c148b9614f8f6523a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAtcTransition.html">AtcTransition</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#abe8649120d89666c148b9614f8f6523a">atc_transition_storage_add_active_candidates_to_active_pool</a> (<a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts)</td></tr>
<tr class="memdesc:abe8649120d89666c148b9614f8f6523a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add active candidates into the Active pool, and collapse the Candidate pool.  <a href="transition_8h.html#abe8649120d89666c148b9614f8f6523a">More...</a><br /></td></tr>
<tr class="separator:abe8649120d89666c148b9614f8f6523a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a20d67e8ca080320008650c8efdfa4c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a1a20d67e8ca080320008650c8efdfa4c">atc_transition_extract_letter</a> (const <a class="el" href="structAtcTransition.html">AtcTransition</a> *t)</td></tr>
<tr class="memdesc:a1a20d67e8ca080320008650c8efdfa4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the letter string.  <a href="transition_8h.html#a1a20d67e8ca080320008650c8efdfa4c">More...</a><br /></td></tr>
<tr class="separator:a1a20d67e8ca080320008650c8efdfa4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1d1fa36482bbfbedb554d20c73463b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a1b1d1fa36482bbfbedb554d20c73463b">atc_transition_fix_times</a> (<a class="el" href="structAtcTransition.html">AtcTransition</a> **begin, <a class="el" href="structAtcTransition.html">AtcTransition</a> **end)</td></tr>
<tr class="memdesc:a1b1d1fa36482bbfbedb554d20c73463b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalize the transition_time* fields of the array of Transition objects.  <a href="transition_8h.html#a1b1d1fa36482bbfbedb554d20c73463b">More...</a><br /></td></tr>
<tr class="separator:a1b1d1fa36482bbfbedb554d20c73463b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee8a83c2d49ed94cd6f8034112a48230"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#aee8a83c2d49ed94cd6f8034112a48230">atc_transition_compare_to_match</a> (const <a class="el" href="structAtcTransition.html">AtcTransition</a> *t, const <a class="el" href="structAtcMatchingEra.html">AtcMatchingEra</a> *match)</td></tr>
<tr class="memdesc:aee8a83c2d49ed94cd6f8034112a48230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare the temporal location of transition compared to the interval defined by the match.  <a href="transition_8h.html#aee8a83c2d49ed94cd6f8034112a48230">More...</a><br /></td></tr>
<tr class="separator:aee8a83c2d49ed94cd6f8034112a48230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af456507371e7df900183810dc0fbe46e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#af456507371e7df900183810dc0fbe46e">atc_transition_compare_to_match_fuzzy</a> (const <a class="el" href="structAtcTransition.html">AtcTransition</a> *t, const <a class="el" href="structAtcMatchingEra.html">AtcMatchingEra</a> *match)</td></tr>
<tr class="memdesc:af456507371e7df900183810dc0fbe46e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like compare_transition_to_match() except perform a fuzzy match within at least one-month of the match.start or match.until.  <a href="transition_8h.html#af456507371e7df900183810dc0fbe46e">More...</a><br /></td></tr>
<tr class="separator:af456507371e7df900183810dc0fbe46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae261eb432272a18429b0d9c7509f1557"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAtcTransitionForSeconds.html">AtcTransitionForSeconds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#ae261eb432272a18429b0d9c7509f1557">atc_transition_storage_find_for_seconds</a> (const <a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts, <a class="el" href="common_8h.html#acbc70d84c280bc21542b1292be411847">atc_time_t</a> epoch_seconds)</td></tr>
<tr class="memdesc:ae261eb432272a18429b0d9c7509f1557"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the Transition matching the given epochSeconds.  <a href="transition_8h.html#ae261eb432272a18429b0d9c7509f1557">More...</a><br /></td></tr>
<tr class="separator:ae261eb432272a18429b0d9c7509f1557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07adb7f18cfc28fec459ecde9fdaec50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAtcTransitionForDateTime.html">AtcTransitionForDateTime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transition_8h.html#a07adb7f18cfc28fec459ecde9fdaec50">atc_transition_storage_find_for_date_time</a> (const <a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *ts, const <a class="el" href="structAtcLocalDateTime.html">AtcLocalDateTime</a> *ldt)</td></tr>
<tr class="memdesc:a07adb7f18cfc28fec459ecde9fdaec50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the candidate Transitions matching the given dateTime.  <a href="transition_8h.html#a07adb7f18cfc28fec459ecde9fdaec50">More...</a><br /></td></tr>
<tr class="separator:a07adb7f18cfc28fec459ecde9fdaec50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Data structures and functions related to calculating DST transitions. </p>

<p class="definition">Definition in file <a class="el" href="transition_8h_source.html">transition.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a956b7acc9da9cb228b540ccbd9267f5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a956b7acc9da9cb228b540ccbd9267f5c">&#9670;&nbsp;</a></span>AtcDateTuple</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An internal simplified version of the AtcDateTime class that uses the (year, month, day, minutes, suffix) fields. </p>
<p>The order of 'minutes' and 'suffix' are reversed from the DateTuple class in the AceTime library because C does not support constructors, so the initializer list must be in the same order as the field order. But I have a bunch of code ported from the C++ code in AceTime which assumes that 'minutes' comes before 'suffix'. So it is easier to fix the ordering here.</p>
<p>This causes the field alignment to be slightly less than ideal, but the class already consumes 2 x 4-byte slots on 32-bit processors, so the new ordering does not change the overall sizeof(AtcDateTuple). </p>

</div>
</div>
<a id="a0b59554b257ebb9cd68a658c57a16f71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b59554b257ebb9cd68a658c57a16f71">&#9670;&nbsp;</a></span>AtcTransitionForDateTime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structAtcTransitionForDateTime.html">AtcTransitionForDateTime</a> <a class="el" href="structAtcTransitionForDateTime.html">AtcTransitionForDateTime</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The result returned by <a class="el" href="transition_8h.html#a07adb7f18cfc28fec459ecde9fdaec50" title="Return the candidate Transitions matching the given dateTime.">atc_transition_storage_find_for_date_time()</a> when searching for transitions by local date time. </p>
<p>There are 5 possibilities:</p>
<ul>
<li>num=0, prev==NULL, curr=curr: datetime is far past</li>
<li>num=1, prev==prev, curr=prev: exact match to datetime</li>
<li>num=2, prev==prev, curr=curr: datetime in overlap</li>
<li>num=0, prev==prev, curr=curr: datetime in gap</li>
<li>num=0, prev==prev, curr=NULL: datetime is far future</li>
</ul>
<p>Adapted from TransitionForDateTime in Transition.h of the AceTime library. </p>

</div>
</div>
<a id="ad470c4c7db14230392db6f412e7584d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad470c4c7db14230392db6f412e7584d3">&#9670;&nbsp;</a></span>AtcTransitionForSeconds</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structAtcTransitionForSeconds.html">AtcTransitionForSeconds</a> <a class="el" href="structAtcTransitionForSeconds.html">AtcTransitionForSeconds</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The result returned by <a class="el" href="transition_8h.html#ae261eb432272a18429b0d9c7509f1557" title="Find the Transition matching the given epochSeconds.">atc_transition_storage_find_for_seconds()</a> when searching for Transition by epoch seconds. </p>
<p>Searching by epoch_seconds is guaranteed to return only a single Transition if found. Usually <code>fold=0</code>. But if the epoch_seconds maps to a <a class="el" href="structAtcLocalDateTime.html" title="Date and time fields which are independent of the time zone.">AtcLocalDateTime</a> which occurs a second time during a "fall back", then <code>fold</code> is set to 1.</p>
<p>Adapted from TransitionForSeconds in Transition.h of the AceTime library. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="adc29c2ff13d900c2f185ee95427fb06c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc29c2ff13d900c2f185ee95427fb06c">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="adc29c2ff13d900c2f185ee95427fb06ca9262981dc217adabd9b160f3b8e29c80"></a>kAtcAbbrevSize&#160;</td><td class="fielddoc"><p>Number of characters in a time zone abbreviation. </p>
<p>6 is the maximum plus 1 for the NUL terminator. </p>
</td></tr>
<tr><td class="fieldname"><a id="adc29c2ff13d900c2f185ee95427fb06ca8bf03ded4b77c7045e9204ab53b55916"></a>kAtcTransitionStorageSize&#160;</td><td class="fielddoc"><p>Number of transitions in the transition_storage. </p>
</td></tr>
<tr><td class="fieldname"><a id="adc29c2ff13d900c2f185ee95427fb06cac0a3a12b114e8fbfc75a9c34e31f55da"></a>kAtcMaxMatches&#160;</td><td class="fielddoc"><p>Number of Matches. </p>
<p>We look at the 3 years straddling the current year, plus the most recent prior year, so that makes 4. </p>
</td></tr>
<tr><td class="fieldname"><a id="adc29c2ff13d900c2f185ee95427fb06caec20c31a8bd02a6af88b3ccc2318c14d"></a>kAtcMaxInteriorYears&#160;</td><td class="fielddoc"><p>Maximum number of interior years. </p>
<p>For a viewing window of 14 months, this will be 4. (Verify: I think this can be changed to 3.) </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="transition_8h_source.html#l00104">104</a> of file <a class="el" href="transition_8h_source.html">transition.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acc3cfaa7731d3ca6b94c2eba538907c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc3cfaa7731d3ca6b94c2eba538907c8">&#9670;&nbsp;</a></span>atc_date_tuple_compare_fuzzy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t atc_date_tuple_compare_fuzzy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *&#160;</td>
          <td class="paramname"><em>until</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare the given 't' with the interval defined by [start, until). </p>
<p>The comparison is fuzzy, with a slop of about one month so that we can ignore the day and minutes fields.</p>
<p>The following values are returned:</p>
<ul>
<li>kAtcMatchStatusPrior if 't' is less than 'start' by at least one month,</li>
<li>kAtcMatchStatusFarFuture if 't' is greater than 'until' by at least one month,</li>
<li>kAtcMatchStatusWithinMatch if 't' is within [start, until) with a one month slop,</li>
<li>kAtcMatchStatusExactMatch is never returned. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00118">118</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="af5724f1c80807a5bb2013789c0ee7e32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5724f1c80807a5bb2013789c0ee7e32">&#9670;&nbsp;</a></span>atc_date_tuple_expand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atc_date_tuple_expand </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *&#160;</td>
          <td class="paramname"><em>tt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>offset_minutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>delta_minutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *&#160;</td>
          <td class="paramname"><em>ttw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *&#160;</td>
          <td class="paramname"><em>tts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAtcDateTuple.html">AtcDateTuple</a> *&#160;</td>
          <td class="paramname"><em>ttu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the given 'tt', offsetMinutes, and deltaMinutes into the 'w', 's' and 'u' versions of the <a class="el" href="structAtcDateTuple.html" title="An internal simplified version of the AtcDateTime class that uses the (year, month,...">AtcDateTuple</a>. </p>
<p>It is allowed for 'ttw' to be an alias of 'tt'. </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00043">43</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="aee8a83c2d49ed94cd6f8034112a48230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee8a83c2d49ed94cd6f8034112a48230">&#9670;&nbsp;</a></span>atc_transition_compare_to_match()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t atc_transition_compare_to_match </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAtcTransition.html">AtcTransition</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtcMatchingEra.html">AtcMatchingEra</a> *&#160;</td>
          <td class="paramname"><em>match</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare the temporal location of transition compared to the interval defined by the match. </p>
<p>The transition time of the Transition is expanded to include all 3 versions ('w', 's', and 'u') of the time stamp. When comparing against the MatchingEra.startDateTime and MatchingEra.untilDateTime, the version will be determined by the suffix of those parameters. </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00340">340</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="af456507371e7df900183810dc0fbe46e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af456507371e7df900183810dc0fbe46e">&#9670;&nbsp;</a></span>atc_transition_compare_to_match_fuzzy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t atc_transition_compare_to_match_fuzzy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAtcTransition.html">AtcTransition</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtcMatchingEra.html">AtcMatchingEra</a> *&#160;</td>
          <td class="paramname"><em>match</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Like compare_transition_to_match() except perform a fuzzy match within at least one-month of the match.start or match.until. </p>
<p>Return:</p><ul>
<li>kAtcMatchStatusPrior if t less than match by at least one month</li>
<li>kAtcMatchStatusWithinMatch if t within match,</li>
<li>kAtcMatchStatusFarFuture if t greater than match by at least one month</li>
<li>kAtcMatchStatusExactMatch is never returned, we cannot know that t == match.start</li>
</ul>
<p>Exported for testing. </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00405">405</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="a1a20d67e8ca080320008650c8efdfa4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a20d67e8ca080320008650c8efdfa4c">&#9670;&nbsp;</a></span>atc_transition_extract_letter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* atc_transition_extract_letter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAtcTransition.html">AtcTransition</a> *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the letter string. </p>
<p>Returns NULL if the RULES column is empty since that means that the ZoneRule is not used, which means LETTER does not exist. A LETTER of '-' is returned as an empty string "". </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00306">306</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="a1b1d1fa36482bbfbedb554d20c73463b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1d1fa36482bbfbedb554d20c73463b">&#9670;&nbsp;</a></span>atc_transition_fix_times()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atc_transition_fix_times </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtcTransition.html">AtcTransition</a> **&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAtcTransition.html">AtcTransition</a> **&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Normalize the transition_time* fields of the array of Transition objects. </p>
<p>Most Transition.transition_time* values are given in 'w' mode. However, if they are given in 's' or 'u' mode, we convert these into the 'w' mode for consistency. To convert an 's' or 'u' into 'w', we need the UTC offset of the current <a class="el" href="structAtcTransition.html" title="A transition from one DST rule to another, and the time period which that rule is valid for.">AtcTransition</a>, which happens to be given by the <em>previous</em> <a class="el" href="structAtcTransition.html" title="A transition from one DST rule to another, and the time period which that rule is valid for.">AtcTransition</a>. </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00288">288</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="abe8649120d89666c148b9614f8f6523a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe8649120d89666c148b9614f8f6523a">&#9670;&nbsp;</a></span>atc_transition_storage_add_active_candidates_to_active_pool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAtcTransition.html">AtcTransition</a>* atc_transition_storage_add_active_candidates_to_active_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add active candidates into the Active pool, and collapse the Candidate pool. </p>
<p>Every MatchingEra will have at least one Transition.</p>
<dl class="section return"><dt>Returns</dt><dd>the last Transition that was added </dd></dl>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00261">261</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="a1b9b49d8fe0c1c4f33a95f70d80349bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b9b49d8fe0c1c4f33a95f70d80349bf">&#9670;&nbsp;</a></span>atc_transition_storage_add_free_agent_to_active_pool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atc_transition_storage_add_free_agent_to_active_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Immediately add the free agent Transition at index mIndexFree to the Active pool. </p>
<p>Then increment mIndexFree to consume the free agent from the Free pool. This assumes that the Pending and Candidate pool are empty, which makes the Active pool come immediately before the Free pool. </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00196">196</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="a0a22faa720635036e397bd4ec001923d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a22faa720635036e397bd4ec001923d">&#9670;&nbsp;</a></span>atc_transition_storage_add_free_agent_to_candidate_pool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atc_transition_storage_add_free_agent_to_candidate_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the free agent Transition at index mIndexFree to the Candidate pool, sorted by transitionTime. </p>
<p>Then increment mIndexFree by one to remove the free agent from the Free pool. Essentially this is an Insertion Sort keyed by the 'transitionTime' (ignoring the DateTuple.suffix). </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00239">239</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="af66e4a2d8938cf48b08ef1e1577dcab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af66e4a2d8938cf48b08ef1e1577dcab1">&#9670;&nbsp;</a></span>atc_transition_storage_add_prior_to_candidate_pool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atc_transition_storage_add_prior_to_candidate_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the current prior into the Candidates pool. </p>
<p>Prior is always just before the start of the Candidate pool, so we just need to shift back the start index of the Candidate pool. </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00233">233</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="a07adb7f18cfc28fec459ecde9fdaec50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07adb7f18cfc28fec459ecde9fdaec50">&#9670;&nbsp;</a></span>atc_transition_storage_find_for_date_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAtcTransitionForDateTime.html">AtcTransitionForDateTime</a> atc_transition_storage_find_for_date_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *&#160;</td>
          <td class="paramname"><em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAtcLocalDateTime.html">AtcLocalDateTime</a> *&#160;</td>
          <td class="paramname"><em>ldt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the candidate Transitions matching the given dateTime. </p>
<p>The search may return 0, 1 or 2 Transitions, depending on whether the dateTime falls in a gap or overlap. </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00503">503</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="ae261eb432272a18429b0d9c7509f1557"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae261eb432272a18429b0d9c7509f1557">&#9670;&nbsp;</a></span>atc_transition_storage_find_for_seconds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAtcTransitionForSeconds.html">AtcTransitionForSeconds</a> atc_transition_storage_find_for_seconds </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *&#160;</td>
          <td class="paramname"><em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common_8h.html#acbc70d84c280bc21542b1292be411847">atc_time_t</a>&#160;</td>
          <td class="paramname"><em>epoch_seconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the Transition matching the given epochSeconds. </p>
<p>Return <a class="el" href="structAtcTransitionForSeconds.html#afa0eedfa06dcf69b752fa9f4f85c7d7d" title="The matching transition or null if not found.">AtcTransitionForSeconds.curr</a> == nullptr if no matching Transition found. If a zone does not have any transition according to TZ Database, the AceTimeTools/transformer.py script adds an "anchor" transition at the "beginning of time" which happens to be the year 1872 (because the year is stored as an int8_t). Therefore, this method should never return a nullptr for a well-formed ZoneInfo file. </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00481">481</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="a9847e6784d5d7a9da578b50976f8a09f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9847e6784d5d7a9da578b50976f8a09f">&#9670;&nbsp;</a></span>atc_transition_storage_get_free_agent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAtcTransition.html">AtcTransition</a>* atc_transition_storage_get_free_agent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a pointer to the first Transition in the free pool. </p>
<p>If this transition is not used, then it's ok to just drop it. The next time getFreeAgent() is called, the same Transition will be returned. </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00178">178</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="abf7682411f98afe4a5e68ab9ad0d0a23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf7682411f98afe4a5e68ab9ad0d0a23">&#9670;&nbsp;</a></span>atc_transition_storage_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atc_transition_storage_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the Transition Storage. </p>
<p>Should be called once for a given app. </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00135">135</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="a6381f6ec7305e9d18bd96a09762b3f5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6381f6ec7305e9d18bd96a09762b3f5e">&#9670;&nbsp;</a></span>atc_transition_storage_reserve_prior()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAtcTransition.html">AtcTransition</a>** atc_transition_storage_reserve_prior </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a free Transition then add it to the Prior pool. </p>
<p>This assumes that the Prior pool and Candidate pool were both empty before calling this method. Shift the Candidate pool and Free pool up by one. Return a handle (pointer to pointer) to the Transition, so that the prior Transition can be swapped with another Transition, while keeping the handle valid. </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00205">205</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
<a id="ae457be698928b6a15547171a134273a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae457be698928b6a15547171a134273a9">&#9670;&nbsp;</a></span>atc_transition_storage_reset_candidate_pool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atc_transition_storage_reset_candidate_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAtcTransitionStorage.html">AtcTransitionStorage</a> *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Empty the Candidate pool by resetting the various indexes. </p>
<p>If every iteration of createTransitionsForMatch() finishes with addFreeAgentToActivePool() or addActiveCandidatesToActivePool(), it may be possible to remove this. But it's safer to reset the indexes upon each iteration. </p>

<p class="definition">Definition at line <a class="el" href="transition_8c_source.html#l00171">171</a> of file <a class="el" href="transition_8c_source.html">transition.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
